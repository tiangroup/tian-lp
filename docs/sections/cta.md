# Промо2 [](https://proofs.app.tian-lp.ru/cta/)

::: tip Папка блока
`/components/sections/cta`
:::

Предполагаеца только темный фон. Фон грузица через speed-dial на секции.

## Компонент Timer.vue

Дни:часы:минуты

Через setInterval(..., 60000).

Принимает параметр end-date (String), который (при наличии) парсит с помощью Date.parse(). Если дата окончания (end-date) не задана, таймер инициализируеца текущая дата + 84 часа + 15 минут. Сам по себе компонент timer ничего не сохраняет,даже в localStorage -> если не передавать end-date каждый раз при обновлении страницы будет реинициализироваца таймер с новым временем.

По истечении времени эмитица событие expired

### Пример использования

```
<timer :end-date="computedEndDate" @expired="reinitTimer"></timer>
```

## Timer в контексте Промо2

Дата окончания может быть задана явно. В режиме редактирования для этого используеца компонент Vuetify [Date Picker](https://vuetifyjs.com/en/components/date-pickers/)

Если дата не задаеца явно, она генерируеца из текущей даты + 84 часа + 15 минут (если так и не сохранить, каждый reload реинициализируеца - сохранять?)

Если таймер истек, генерируеца волшебная дата (по известной уже схеме) и сохраняеца в поле date блока Промо2. Это происходит только в режиме просмотра!!! В режиме редактирования админ видит, что таймер истек
